#pragma once

#include <array>

#include "../../types.hpp"
#include "../../constants.hpp"

namespace dunsparce::tables {}

namespace dunsparce::tables::relevant_bits { // makes magic generation easier

    inline constexpr std::array<int, N_SQUARES> bishops {
        6, 5, 5, 5, 5, 5, 5, 6, 
        5, 5, 5, 5, 5, 5, 5, 5, 
        5, 5, 7, 7, 7, 7, 5, 5, 
        5, 5, 7, 9, 9, 7, 5, 5, 
        5, 5, 7, 9, 9, 7, 5, 5, 
        5, 5, 7, 7, 7, 7, 5, 5, 
        5, 5, 5, 5, 5, 5, 5, 5, 
        6, 5, 5, 5, 5, 5, 5, 6
    };

    inline constexpr std::array<int, N_SQUARES> rooks {
        12, 11, 11, 11, 11, 11, 11, 12, 
        11, 10, 10, 10, 10, 10, 10, 11, 
        11, 10, 10, 10, 10, 10, 10, 11, 
        11, 10, 10, 10, 10, 10, 10, 11, 
        11, 10, 10, 10, 10, 10, 10, 11, 
        11, 10, 10, 10, 10, 10, 10, 11, 
        11, 10, 10, 10, 10, 10, 10, 11, 
        12, 11, 11, 11, 11, 11, 11, 12
    };

} // dunsparce::tables::relevant_bits


// computed using magic::init()
namespace dunsparce::tables::magics {
    constexpr inline std::array<Bitboard, N_SQUARES> rooks {
        140737555464208ULL,
        275163119872ULL,
        4611688423743815680ULL,
        4432406249602ULL,
        189168776606908417ULL,
        140737496743936ULL,
        2251834441860128ULL,
        8798240571392ULL,
        18014742106865920ULL,
        36028934457934336ULL,
        4507997673891904ULL,
        36028797018972160ULL,
        288230925908574736ULL,
        10376860889478332416ULL,
        74450131876839440ULL,
        536871424ULL,
        2305878194122653696ULL,
        149533581443072ULL,
        309241839616ULL,
        1152921505181468960ULL,
        4507997673881600ULL,
        9241387534911537152ULL,
        4398583398416ULL,
        10520412028074459138ULL,
        1153273348362602560ULL,
        75041668595712ULL,
        134217728ULL,
        720575940379279425ULL,
        92358976733697ULL,
        130ULL,
        9007336693760000ULL,
        28591664399396ULL,
        108086391056893568ULL,
        144115291691942048ULL,
        4613937886960549888ULL,
        4611703610747650048ULL,
        140737488355338ULL,
        274887360512ULL,
        145410547007492ULL,
        2233383125056ULL,
        27021606362809856ULL,
        36345456367765512ULL,
        1134702727790596ULL,
        549860672000ULL,
        316659349061888ULL,
        134226176ULL,
        4612811918334754816ULL,
        292733975796924416ULL,
        288231200920698880ULL,
        70370900115458ULL,
        4503608775147648ULL,
        140737488363520ULL,
        1153484746685157632ULL,
        140738562097160ULL,
        578721382569902080ULL,
        4352ULL,
        4503599698673664ULL,
        137438953472ULL,
        35188667056928ULL,
        142936511612928ULL,
        2216203124736ULL,
        4611686061645627905ULL,
        1729417449872818280ULL,
        4415771705856ULL
    };
    constexpr inline std::array<Bitboard, N_SQUARES> bishops{
        140737555464208ULL,
        275163119872ULL,
        4611688423743815680ULL,
        4432406249602ULL,
        189168776606908417ULL,
        140737496743936ULL,
        2251834441860128ULL,
        8798240571392ULL,
        18014742106865920ULL,
        36028934457934336ULL,
        4507997673891904ULL,
        288230925908574736ULL,
        10376860889478332416ULL,
        74450131876839440ULL,
        536871424ULL,
        2305878194122653696ULL,
        149533581443072ULL,
        309241839616ULL,
        1152921505181468960ULL,
        4507997673881600ULL,
        9241387534911537152ULL,
        4398583398416ULL,
        10520412028074459138ULL,
        1153273348362602560ULL,
        75041668595712ULL,
        134217728ULL,
        720575940379279425ULL,
        92358976733697ULL,
        130ULL,
        9007336693760000ULL,
        28591664399396ULL,
        108086391056893568ULL,
        144115291691942048ULL,
        4613937886960549888ULL,
        4611703610747650048ULL,
        140737488355338ULL,
        274887360512ULL,
        145410547007492ULL,
        2233383125056ULL,
        27021606362809856ULL,
        36345456367765512ULL,
        1134702727790596ULL,
        549860672000ULL,
        316659349061888ULL,
        134226176ULL,
        4612811918334754816ULL,
        292733975796924416ULL,
        288231200920698880ULL,
        70370900115458ULL,
        4503608775147648ULL,
        140737488363520ULL,
        1153484746685157632ULL,
        578721382569902080ULL,
        4352ULL,
        4503599698673664ULL,
        137438953472ULL,
        35188667056928ULL,
        142936511612928ULL,
        4611686061645627905ULL,
        1729417449872818280ULL,
        4415771705856ULL,
        299136167444480ULL,
        2097152ULL,
        429517702144ULL
    };
} // dunsparce::tables::magics